<!DOCTYPE html>
<html lang="en">

<head>
  <title>SOEP Visualizer</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script async src="https://unpkg.com/es-module-shims@1.0.1/dist/es-module-shims.js"></script>
  <meta name="viewport"
    content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0">
  <!-- Looks so bad with landscape mode, lets just disallow it -->
  <!-- Does not work on IOS -->
  <!-- <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">  -->
  <link href="./css/output.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/augmented-ui@2/augmented-ui.min.css">
  <link rel="stylesheet" href="./css/style.css" />

  <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.module.js",
          "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.168.0/examples/jsm/",
          "postprocessing": "https://unpkg.com/postprocessing@6.36.3/build/index.js",
          "three-viewport-gizmo": "https://unpkg.com/three-viewport-gizmo@1.0.1/dist/three-viewport-gizmo.js"
        }
      }
    </script>
</head>

<body>
  <div id="loading-screen"
    class="top-0 left-0 fixed w-full h-full bg-loading-screen bg-cover bg-center flex justify-center items-center z-50 opacity-100 transition-opacity duration-500">
    <div class="flex flex-col items-center space-y-4 text-white">
      <img src="../images/logo/logo.svg" alt="Logo" class="h-[150px] w-auto drop-shadow-[4px_4px_10px_rgba(0,0,0,0.5)]">
      <div class="w-10 h-10 border-4 border-white border-t-transparent rounded-full animate-spin"></div>
    </div>
  </div>

  <header
    class="bg-black z-30 text-white h-16 flex items-center shadow-md w-full border-b-2 border-gray-700 sticky top-0">
    <nav class="flex items-center max-w-full px-4 w-full">

      <!-- Burger menu -->
      <div id="menu__toggle"
        class="tham tham-e-squeeze tham-w-10 h-10 transform transition-transform duration-300 ease-in-out">
        <div class="tham-box">
          <div class="tham-inner bg-white h-[2px] w-[8px]"></div>
          <div class="tham-inner bg-white h-[2px] w-[8px]"></div>
          <div class="tham-inner bg-white h-[2px] w-[8px]"></div>
        </div>
      </div>

      <!-- Logo -->
      <div class="flex items-center py-5 ml-8">
        <a href="../" class="flex items-center">
          <img src="../images/logo/logo.svg" alt="Logo" class="h-[60px] w-auto">
        </a>

        <ul class="flex text-sm md:text-base ml-7 space-x-5">

          <!-- Satellite dropdown -->
          <li class="relative group">
            <div>
              <button id="satellite-dropdown-trigger"
                class="bg-black text-white px-3 py-2 rounded hover:text-gray-400">Satellites</button>
              <div id="satellite-dropdown"
                class="absolute hidden group-hover:block focus-within:block bg-black text-white border border-gray-700 rounded shadow-lg w-60">
                <input id="search-input" type="text" placeholder="Search.."
                  class="w-full px-4 py-2 bg-black text-white focus:outline-none border-b border-gray-700" />
                <a href="#" class="block px-4 py-2 hover:bg-gray-700">Cosmos</a>
                <a href="#" class="block px-4 py-2 hover:bg-gray-700">Starlink</a>
                <a href="#" class="block px-4 py-2 hover:bg-gray-700">Satellite3</a>
                <a href="#" class="block px-4 py-2 hover:bg-gray-700">Satellite4</a>
                <a href="#" class="block px-4 py-2 hover:bg-gray-700">Satellite5</a>
              </div>
            </div>
          </li>

          <!-- Events Button -->
          <li>
            <button class="bg-black menu-hover text-white px-3 py-2 rounded  hover:text-gray-400" id="events-button">
              Events
            </button>
          </li>

          <!-- Prediction dropdown -->
          <li class="relative group">
            <button class="bg-black menu-hover text-white px-3 py-2 rounded  hover:text-gray-400"
              id="prediction-button">
              Prediction
            </button>
            <div id="prediction-dropdown"
              class="absolute hidden group-hover:block bg-black text-white border border-gray-700 rounded shadow-lg w-60">
              <a href="#" id="collision-pred"
                class="prediction-dropdown-trigger block px-4 py-2 hover:bg-gray-700">Collision prediction</a>
              <a href="#" id="pass-pred" class="prediction-dropdown-trigger block px-4 py-2 hover:bg-gray-700">Pass
                prediction</a>
              <a href="#" id="re-entry-pred"
                class="prediction-dropdown-trigger block px-4 py-2 hover:bg-gray-700">Re-entry prediction</a>
            </div>
          </li>

        </ul>
      </div>
    </nav>
  </header>

  <div class="hidden absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 p-10 bg-white"
    id="dynamic-content"></div>

  <div class="gl_viewport" id="gl_viewport">
    <!-- Place the ui overlay items in here-->
    <div id="ui" class="absolute z-20 w-full h-full">

      <!-- The gizmo was blocking the burger tabs icons -->
      <div id="viewport-gizmo-container" class="absolute top-8 left-5 w-24 h-24 bg-transparent z-20">
      </div>
      <!-- Sliding window left-->
      <!-- <div id="side-left-window"
        class="z-20 min-w-80 bg-black absolute top-0 left-0 h-full text-white flex items-center -translate-x-full transform transition-transform duration-300 ease-in-out p-4">
        <button id="close-left-window" class="bg-transparent absolute top-4 right-4">
          <svg class="h-8 w-8 text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
            stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" />
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
        <div></div>
        <div id="left-window-content"></div>
      </div> -->

      <!-- Sliding window right-->
      <div id="ham_menu"
        class="bg-black w-full md:w-1/3 absolute top-0 left-0 h-full text-white flex flex-col -translate-x-full transform transition-transform duration-300 ease-in-out">
        <!-- Tabs -->
        <div class="tabs flex space-x-4 border-b border-gray-300">

          <!-- Calender (Events) -->
          <button data-ripple="true" class="tab group relative" id="events-tab">
            <svg class="h-6 w-6" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
              fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" />
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z" />
            </svg>
          </button>

          <!-- Predictions -->
          <button data-ripple="true" class="tab group relative" id="prediction-tab">
            <!-- Satellite -->
            <svg class="h-6 w-6" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
              fill="none" stroke-linecap="round" stroke-linejoin="round">
              <g id="Satellite" transform="matrix(0.0665082,5.91071e-18,-5.91071e-18,0.0665082,-51.1746,-44.2688)">
                <g transform="matrix(1.20588,0,0,1.23214,-193.299,-187.108)">
                  <path
                    d="M982,764.627L982,851.681C982,857.376 977.276,862 971.456,862L924.544,862C918.724,862 914,857.376 914,851.681L914,764.627C914,758.932 918.724,754.308 924.544,754.308L971.456,754.308C977.276,754.308 982,758.932 982,764.627Z"
                    style="fill:none;stroke:currentColor;stroke-width:23.13px;" />
                </g>
                <g transform="matrix(0.965225,3.09049e-18,3.09049e-18,1,39.1654,-0.345951)">
                  <path
                    d="M998,817L986,817L986,801L998,801L998,795C998,787.273 1004.27,781 1012,781L1112.26,781C1119.99,781 1126.26,787.273 1126.26,795L1126.26,823C1126.26,830.727 1119.99,837 1112.26,837L1012,837C1004.27,837 998,830.727 998,823L998,817Z"
                    style="fill:none;stroke:currentColor;stroke-width:28.69px;" />
                </g>
                <g transform="matrix(-0.965225,-3.09049e-18,3.09049e-18,1,1860.59,-0.345951)">
                  <path
                    d="M998,817L986,817L986,801L998,801L998,795C998,787.273 1004.27,781 1012,781L1112.26,781C1119.99,781 1126.26,787.273 1126.26,795L1126.26,823C1126.26,830.727 1119.99,837 1112.26,837L1012,837C1004.27,837 998,830.727 998,823L998,817Z"
                    style="fill:none;stroke:currentColor;stroke-width:28.69px;" />
                </g>
                <g transform="matrix(1,-6.38485e-17,-6.38485e-17,0.281568,1.3776,722.692)">
                  <path
                    d="M956,886.637L956,921.363C956,936.065 952.639,948 948.5,948C944.361,948 941,936.065 941,921.363L941,886.637C941,871.935 944.361,860 948.5,860C952.639,860 956,871.935 956,886.637Z"
                    style="fill:none;stroke:currentColor;stroke-width:25.58px;" />
                </g>
                <g transform="matrix(1,-5.0114e-17,-5.0114e-17,0.43611,1.3776,499.945)">
                  <path
                    d="M956,877.197L956,930.803C956,940.294 952.639,948 948.5,948C944.361,948 941,940.294 941,930.803L941,877.197C941,867.706 944.361,860 948.5,860C952.639,860 956,867.706 956,877.197Z"
                    style="fill:none;stroke:currentColor;stroke-width:24.36px;" />
                </g>
                <g transform="matrix(-1.1427,-1.39941e-16,2.39363e-16,-1.95455,2052.51,2741.52)">
                  <path
                    d="M908.878,909L964.939,909L1021,909C1021,921.15 995.901,931 964.939,931C933.977,931 908.878,921.15 908.878,909Z"
                    style="fill:none;stroke:currentColor;stroke-width:15.65px;" />
                </g>
              </g>
            </svg>

            <!-- Question mark -->
            <svg class="absolute right-1 top-1" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9.529 9.988a2.502 2.502 0 1 1 5 .191A2.441 2.441 0 0 1 12 12.582V14m-.01 3.008H12" />
            </svg>
          </button>

          <!-- Graphs -->
          <button data-ripple="true" class="tab group relative">
            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 4v15a1 1 0 0 0 1 1h15M8 16l2.5-5.5 3 3L17.273 7 20 9.667" />
            </svg>
            <!-- Hover Text -->
            <!-- <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30">
              Graphs
            </span> -->
          </button>

          <!-- Info -->
          <button data-ripple="true" class="tab group relative">
            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10" />
              <line x1="12" y1="16" x2="12" y2="12" />
              <line x1="12" y1="8" x2="12.01" y2="8" />
            </svg>
            <!-- Hover Text -->
            <!-- <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30">
              Info
            </span> -->
          </button>

          <!-- Settings -->
          <button data-ripple="true" class="tab group relative">
            <svg class="h-6 w-6" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
              fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 13v-2a1 1 0 0 0-1-1h-.757l-.707-1.707.535-.536a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0l-.536.535L14 4.757V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v.757l-1.707.707-.536-.535a1 1 0 0 0-1.414 0L4.929 6.343a1 1 0 0 0 0 1.414l.536.536L4.757 10H4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h.757l.707 1.707-.535.536a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l.536-.535 1.707.707V20a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-.757l1.707-.708.536.536a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-.535-.536.707-1.707H20a1 1 0 0 0 1-1Z" />
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
            </svg>
            <!-- Hover Text -->
            <!-- <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30">
                Settings
              </span> -->
          </button>

        </div>

        <!-- Content -->
        <div class="tab-content mt-4 h-full p-2">
          <div class="tab-panel">
            <p id="satellite-info-default">Events</p>
            <!-- <h4 id="debug-ui-fps-counter"></h4>
            <h4>Renderer stats:</h4>
            <p id="debug-ui-renderer-info"></p>
            <h4>GPU info:</h4>
            <p id="debug-ui-gpu-info"></p> -->
          </div>

          <div id="satellite-info" class="tab-panel">
            <div id="satellite-model-viewport" class="min-h-80">
              <p id="satellite-info-default">Predictions should go here</p>
            </div>
            <div id="satellite-info-content" class="hidden h-full">
              <div id="popup-content-mobile" class="block md:hidden"></div>
              <p>Add some extra info when we get it</p>
            </div>
          </div>

          <div class="tab-panel">
            <p>Add some graphs here</p>
          </div>

          <div class="tab-panel">
            <h2 class="text-2xl">How to use:</h2>
            <p>Let's force Shakir to write this</p>
            <hr />
            <h3 class="text-lg">Curious how the project is coming along?</h3>
            <a data-ripple="true" class="btn-blue" href="https://soep-group.github.io/soep-weekly-blog/" target="_blank"
              rel="noopener noreferrer">Check out our blog</a>
          </div>

          <div class="tab-panel">
            <div class="p-2 flex flex-row text-white justify-between items-center w-full border-b border-b-white">
              <h3 class="justify-begin">Graphics preset:</h3>
              <select id="graphics-settings" class="border p-2 rounded bg-black border-white justify-end"></select>
            </div>
            <button type="button" id="settings-save" data-ripple="true" class="btn-blue">
              Save settings
            </button>
          </div>

        </div>
      </div>

      <!-- Note Ivan: This is just a proof of concept on how we could potentially rebuild the ui -->
      <div id="popup-container"
        class="z-10 pb-4
         rounded-lg translate-y-full absolute bottom-0 left-0 transform transition-transform duration-500 ease-in-out hidden md:flex md:flex-col w-4/5 h-2/4 md:w-1/5 md:h-1/4">
        <div class="popup-window shadow-lg bg-sky-900/50 space-y-2 p-2 h-full w-full"
          data-augmented-ui="border tr-2-clip-x br-clip">
          <div class="flex flex-row justify-start">
            <button id="close-popup" class="bg-transparent ">
              <svg class="h-8 w-8 text-teal-300 hover:text-teal-200" width="24" height="24" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" />
                <line x1="18" y1="6" x2="6" y2="18" />
                <line x1="6" y1="6" x2="18" y2="18" />
              </svg>
            </button>
          </div>
          <div id="popup-skeleton" class="space-y-4 p-4 text-teal-300">
            <p class="loading-text">Loading</p>
          </div>
          <div id="popup-content" class="hidden space-y-4 p-4 text-teal-300"></div>
        </div>
      </div>
    </div>
    <div id="mobile-popup-revert"
      class="h-12 w-12 block md:hidden z-10 translate-y-full absolute bottom-0 left-0 transform transition-transform duration-500 ease-in-out">
      <div class="flex items-center justify-center shadow-lg bg-sky-900/50 space-y-2 p-2 h-full w-full"
        data-augmented-ui="border tl-clip tr-clip br-clip bl-clip">
        <button>
          <svg class="h-12 w-12 text-teal-300" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
            stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" />
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
      </div>
    </div>

  </div>

  <!-- <button id="reset-to-north" class="reset-button">
      <img
        src="./images/icons/compass.png"
        alt="Reset to North"
        class="reset-icon"
      />
    </button> -->
</body>
<script type="module" src="js/main.js"></script>

</html>