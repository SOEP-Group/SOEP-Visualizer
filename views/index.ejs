<!DOCTYPE html>
<html lang="en">

<head>
  <title>SOEP Visualizer</title>
  <link rel="icon" href="../images/logo/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.8.1/nouislider.css"
    integrity="sha512-MKxcSu/LDtbIYHBNAWUQwfB3iVoG9xeMCm32QV5hZ/9lFaQZJVaXfz9aFa0IZExWzCpm7OWvp9zq9gVip/nLMg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.8.1/nouislider.min.js"
    integrity="sha512-g/feAizmeiVKSwvfW0Xk3ZHZqv5Zs8PEXEBKzL15pM0SevEvoX8eJ4yFWbqakvRj7vtw1Q97bLzEpG2IVWX0Mg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script async src="./libs/es-shims/es-module-shims.js"></script>
  <meta name="viewport"
    content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0">
  <!-- Looks so bad with landscape mode, lets just disallow it -->
  <!-- Does not work on IOS -->
  <!-- <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">  -->
  <link rel="stylesheet" type="text/css" href="./libs/au-css/augmented-ui.min.css">
  <link href="./css/output.css" rel="stylesheet" />
  <link rel="stylesheet" href="./css/style.css" />

  <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.170.0/build/three.module.js",
          "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.170.0/examples/jsm/",
          "postprocessing": "https://unpkg.com/postprocessing@6.36.3/build/index.js"
        }
      }
    </script>
</head>

<body>
  <div id="resizer_overlay" class="z-50 hidden bg-transparent absolute w-full h-full"></div>
  <div id="loading-screen"
    class="top-0 left-0 fixed w-full h-full bg-loading-screen bg-cover bg-center flex justify-center items-center z-50 opacity-100 transition-opacity duration-500">
    <div class="flex flex-col items-center space-y-4 text-white">
      <div alt="Logo" class="logo animated-logo h-[150px] w-auto drop-shadow-[4px_4px_10px_rgba(0,0,0,0.5)]">
        <object type="image/svg+xml" data="../images/logo/animated_logo.svg" height="150"></object>
      </div>
      <!-- <div class="w-10 h-10 border-4 border-white border-t-transparent rounded-full animate-spin"></div> -->
    </div>
  </div>

  <header
    class="bg-black z-30 text-white h-16 flex items-center shadow-md w-full border-b-2 border-teal-300 sticky top-0">
    <nav class="flex items-center ml-4 mr-4 max-w-full px-4 w-full relative">

      <!-- Burger menu -->
      <div id="menu__toggle"
        class="tham tham-e-slider tham-w-8 h-8 transform transition-transform duration-300 ease-in-out">
        <div class="tham-box">
          <div class="tham-inner bg-white h-[2px] w-[6px]"></div>
          <div class="tham-inner bg-white h-[2px] w-[6px]"></div>
          <div class="tham-inner bg-white h-[2px] w-[6px]"></div>
        </div>
      </div>

      <!-- Logo -->
      <div class="flex select-none items-center py-5 md:ml-7 ml-4">
        <a href="/" class="flex items-center">
          <img src="../images/logo/logo.svg" alt="Logo" class="h-[60px] w-auto">
        </a>

    </nav>

    <!-- Filters button -->
    <div class="flex items-center md:ml-4 ml-0 mr-4 relative">
      <button id="filters-button" class="flex items-center filter-button-styling" title="Filters">
        <svg class="w-6 h-6 md:mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 4h18l-7 8v5l-4 4v-9L3 4z"></path>
        </svg>
        <span class="hidden md:block">Filters</span>
      </button>

      <div id="filters-dropdown"
        class="invisible absolute top-[calc(100%+1rem)] right-1/2 md:right-0 md:w-[20rem] w-[16rem] bg-black/80 text-white rounded-md shadow-lg border border-teal-300 p-4 z-50 opacity-0 transform md:translate-y-2 md:translate-x-0 translate-x-1/2 transition-all duration-300 ease-in-out">

        <div class="flex justify-end mb-2">
          <button id="close-filters-button"
            class="text-teal-300 hover:text-teal-200 transition ease-in-out duration-200">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" viewBox="0 0 24 24">
              <path d="M18 6 6 18M6 6l12 12"></path>
            </svg>
          </button>
        </div>

        <div class="space-y-4 max-h-96 overflow-y-auto pr-2">
          <!-- Speed -->
          <div class="w-full max-w-md mx-auto">
            <label for="speed-slider" class="block mb-1 text-sm font-medium">Speed (km/s)</label>
            <div id="speed-slider" class="relative h-2 bg-gray-100 rounded-full" style="width: 90%;"></div>
            <div class="flex justify-between block mb-1 text-sm font-medium text-gray-400">
              <span id="speed-min-label">0</span>
              <span id="speed-max-label">12</span>
            </div>
          </div>

          <!-- Longitude -->
          <div class="w-full max-w-md mx-auto">
            <label for="longitude-slider" class="block mb-1 text-sm font-medium">Longitude (°)</label>
            <div id="longitude-slider" class="relative h-2 bg-gray-100 rounded-full" style="width: 90%;"></div>
            <div class="flex justify-between block mb-1 text-sm font-medium text-gray-400">
              <span id="longitude-min-label">-180</span>
              <span id="longitude-max-label">180</span>
            </div>
          </div>

          <!-- Latitude -->
          <div class="w-full max-w-md mx-auto">
            <label for="latitude-slider" class="block mb-1 text-sm font-medium">Latitude (°)</label>
            <div id="latitude-slider" class="relative h-2 bg-gray-100 rounded-full" style="width: 90%;"></div>
            <div class="flex justify-between block mb-1 text-sm font-medium text-gray-400">
              <span id="latitude-min-label">-90</span>
              <span id="latitude-max-label">90</span>
            </div>
          </div>

          <!-- Orbit distance -->
          <div class="w-full max-w-md mx-auto">
            <label for="orbit-distance-slider" class="block mb-1 text-sm font-medium">Orbit Distance (km)</label>
            <div id="orbit-distance-slider" class="relative h-2 bg-gray-100 rounded-full" style="width: 90%;"></div>
            <div class="flex justify-between block mb-1 text-sm font-medium text-gray-400">
              <span id="orbit-distance-min-label">100</span>
              <span id="orbit-distance-max-label">500000</span>
            </div>
          </div>

          <!-- Inclination -->
          <div class="w-full max-w-md mx-auto">
            <label for="inclination-slider" class="block mb-1 text-sm font-medium">Inclination (°)</label>
            <div id="inclination-slider" class="relative h-2 bg-gray-100 rounded-full" style="width: 90%;"></div>
            <div class="flex justify-between block mb-1 text-sm font-medium text-gray-400">
              <span id="inclination-min-label">0</span>
              <span id="inclination-max-label">180</span>
            </div>
          </div>

          <!-- Revolution time -->
          <div class="w-full max-w-md mx-auto">
            <label for="revolution-time-slider" class="block mb-1 text-sm font-medium">Revolution Time (hours)</label>
            <div id="revolution-time-slider" class="relative h-2 bg-gray-100 rounded-full" style="width: 90%;"></div>
            <div class="flex justify-between block mb-1 text-sm font-medium text-gray-400">
              <span id="revolution-time-min-label">80</span>
              <span id="revolution-time-max-label">40000</span>
            </div>
          </div>

          <!-- Launch Date -->
          <div class="w-full max-w-md mx-auto">
            <label for="launch-date-start" class="block mb-1 text-sm font-medium">Launch Date Start</label>
            <input type="date" id="launch-date-start"
              class="w-full bg-black border border-gray-700 text-white p-1 rounded" />

            <label for="launch-date-end" class="block mb-1 text-sm font-medium mt-4">Launch Date End</label>
            <input type="date" id="launch-date-end"
              class="w-full bg-black border border-gray-700 text-white p-1 rounded" />
          </div>

          <!-- Launch site -->
          <div>
            <label for="launch-site" class="block mb-1 text-sm font-medium">Launch Site</label>
            <select id="launch-site"
              class="w-full bg-black border border-gray-700 outline-none focus:border-teal-300 focus:outline-none rounded p-1 transition">
              <option value="">Any</option>
              <option value="AFETR">AFETR</option>
              <option value="KSC">KSC</option>
            </select>
          </div>

          <!-- Owner -->
          <div>
            <label for="owner" class="block mb-1 text-sm font-medium">Owner</label>
            <select id="owner"
              class="w-full bg-black border border-gray-700 outline-none focus:border-teal-300 focus:outline-none rounded p-1">
              <option value="">Any</option>
              <option value="US">US</option>
              <option value="RU">RU</option>
              <option value="CN">CN</option>
              <option value="EU">EU</option>
            </select>
          </div>
        </div>

        <div class="flex justify-center space-x-2 mt-4 border-t border-gray-700 pt-4">
          <button id="clear-filters-button"
            class="border border-teal-300 text-teal-300 px-4 py-1 rounded hover:bg-teal-300 hover:text-black transition">
            Clear Filters
          </button>
          <button id="apply-filters-button"
            class="bg-teal-300 text-black px-4 py-1 rounded font-semibold hover:bg-teal-400 transition">
            Apply Filters
          </button>
        </div>
      </div>
    </div>

    <!-- Satellite search -->
    <div class="md:right-6 right-2 w-[20rem] md:w-[32rem] md:ml-7 relative">
      <!-- Search Input -->
      <input type="text" id="satellite-search" placeholder="Search" data-placeholder-md="Search for a satellite"
        data-placeholder-sm="Search"
        class="text-white bg-black border border-gray-700 rounded-lg pl-4 pr-12 py-2 focus:outline-none focus:ring-1 focus:border-teal-300 w-full transition duration-300 ease-in-out">
      <!-- Search Button (magnifying glass) -->
      <button id="satellite-search-button"
        class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-black text-white rounded-full p-2 focus:outline-none hover:bg-gray-700 transition duration-200 ease-in-out"
        title="Search">
        <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
          width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-width="2"
            d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z" />
        </svg>
      </button>
      <!-- dropdown suck it ivan -->
      <div id="satellite-dropdown"
        class="absolute top-full left-0 bg-black text-white w-full border border-gray-700 mt-1 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto hidden">
      </div>
    </div>

  </header>
  <!-- UI -->
  <div class="ui absolute z-20 w-full h-full pt-16">
    <!-- Sliding window left-->
    <div id="ham_menu"
      class="z-30 bg-black w-full md:w-1/3 top-0 left-0 h-full text-white flex flex-col -translate-x-full transform transition-transform duration-300 ease-in-out">
      <div id="resize" class="resizer-container absolute top-0 right-0 h-full flex items-center justify-center">
        <div class="resizer w-[15px] cursor-ew-resize h-16 absolute bg-teal-600 flex items-center justify-center"
          title="Resize">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
          </svg>
        </div>
      </div>

      <div class="relative w-full max-w-4xl mx-auto scrollbar-hide flex items-center border-b border-gray-300" id="tabs_wrapper">
        <!-- Left scroll button -->
        <button id="scroll-left" 
          class="absolute top-0 left-0 z-10 h-full px-3 flex items-center justify-center text-white bg-black hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed" 
          data-ripple="true"
          aria-label="Scroll Left">
          &#x276E;
        </button>

        <!-- Tabs -->
        <div class="tabs flex flex-nowrap space-x-1 overflow-x-auto items-center scrollbar-hide" id="tabs-container">

          <!-- Events -->
          <button data-ripple="true" class="tab group relative flex-shrink-0" id="events-tab" title="Events">
            <svg class="h-6 w-6" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
              fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" />
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z" />
            </svg>
          </button>

          <!-- Predictions -->
          <button data-ripple="true" class="tab group relative flex-shrink-0" id="prediction-tab-icon" title="Predictions">
            <!-- Satellite -->
            <svg class="h-6 w-6" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
              fill="none" stroke-linecap="round" stroke-linejoin="round">
              <g id="Satellite" transform="matrix(0.0665082,5.91071e-18,-5.91071e-18,0.0665082,-51.1746,-44.2688)">
                <g transform="matrix(1.20588,0,0,1.23214,-193.299,-187.108)">
                  <path
                    d="M982,764.627L982,851.681C982,857.376 977.276,862 971.456,862L924.544,862C918.724,862 914,857.376 914,851.681L914,764.627C914,758.932 918.724,754.308 924.544,754.308L971.456,754.308C977.276,754.308 982,758.932 982,764.627Z"
                    style="fill:none;stroke:currentColor;stroke-width:23.13px;" />
                </g>
                <g transform="matrix(0.965225,3.09049e-18,3.09049e-18,1,39.1654,-0.345951)">
                  <path
                    d="M998,817L986,817L986,801L998,801L998,795C998,787.273 1004.27,781 1012,781L1112.26,781C1119.99,781 1126.26,787.273 1126.26,795L1126.26,823C1126.26,830.727 1119.99,837 1112.26,837L1012,837C1004.27,837 998,830.727 998,823L998,817Z"
                    style="fill:none;stroke:currentColor;stroke-width:28.69px;" />
                </g>
                <g transform="matrix(-0.965225,-3.09049e-18,3.09049e-18,1,1860.59,-0.345951)">
                  <path
                    d="M998,817L986,817L986,801L998,801L998,795C998,787.273 1004.27,781 1012,781L1112.26,781C1119.99,781 1126.26,787.273 1126.26,795L1126.26,823C1126.26,830.727 1119.99,837 1112.26,837L1012,837C1004.27,837 998,830.727 998,823L998,817Z"
                    style="fill:none;stroke:currentColor;stroke-width:28.69px;" />
                </g>
                <g transform="matrix(1,-6.38485e-17,-6.38485e-17,0.281568,1.3776,722.692)">
                  <path
                    d="M956,886.637L956,921.363C956,936.065 952.639,948 948.5,948C944.361,948 941,936.065 941,921.363L941,886.637C941,871.935 944.361,860 948.5,860C952.639,860 956,871.935 956,886.637Z"
                    style="fill:none;stroke:currentColor;stroke-width:25.58px;" />
                </g>
                <g transform="matrix(1,-5.0114e-17,-5.0114e-17,0.43611,1.3776,499.945)">
                  <path
                    d="M956,877.197L956,930.803C956,940.294 952.639,948 948.5,948C944.361,948 941,940.294 941,930.803L941,877.197C941,867.706 944.361,860 948.5,860C952.639,860 956,867.706 956,877.197Z"
                    style="fill:none;stroke:currentColor;stroke-width:24.36px;" />
                </g>
                <g transform="matrix(-1.1427,-1.39941e-16,2.39363e-16,-1.95455,2052.51,2741.52)">
                  <path
                    d="M908.878,909L964.939,909L1021,909C1021,921.15 995.901,931 964.939,931C933.977,931 908.878,921.15 908.878,909Z"
                    style="fill:none;stroke:currentColor;stroke-width:15.65px;" />
                </g>
              </g>
            </svg>

            <!-- Question mark -->
            <svg class="absolute right-1 top-1" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9.529 9.988a2.502 2.502 0 1 1 5 .191A2.441 2.441 0 0 1 12 12.582V14m-.01 3.008H12" />
            </svg>
          </button>

          <!-- Graphs -->
          <button data-ripple="true" class="tab group relative flex-shrink-0" title="Graphs">
            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 4v15a1 1 0 0 0 1 1h15M8 16l2.5-5.5 3 3L17.273 7 20 9.667" />
            </svg>
            <!-- Hover Text -->
            <!-- <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30">
              Graphs
            </span> -->
          </button>

          <!-- Info -->
          <button data-ripple="true" class="tab group relative flex-shrink-0" title="Info">
            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10" />
              <line x1="12" y1="16" x2="12" y2="12" />
              <line x1="12" y1="8" x2="12.01" y2="8" />
            </svg>
          </button>

          <!-- Community -->
          <button data-ripple="true" class="tab group relative flex-shrink-0" title="Community">
            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
            </svg>
          </button>          

          <!-- Donate -->
          <button data-ripple="true" class="tab group relative flex-shrink-0" title="Donate">
            <svg class="h-6 w-6 text-red-500 group-hover:text-red-300 transition-colors duration-200 ease-in-out" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 21c-4.056-3.156-8.25-6.311-8.25-10.5A5.25 5.25 0 0 1 9 5.25c1.53 0 2.952.75 3.75 1.905A5.251 5.251 0 0 1 18 5.25a5.25 5.25 0 0 1 5.25 5.25c0 4.189-4.194 7.344-8.25 10.5Z" />
            </svg>
          </button>

          <!-- Settings -->
          <button data-ripple="true" class="tab group relative flex-shrink-0" title="Settings">
            <svg class="h-6 w-6" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
              fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 13v-2a1 1 0 0 0-1-1h-.757l-.707-1.707.535-.536a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0l-.536.535L14 4.757V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v.757l-1.707.707-.536-.535a1 1 0 0 0-1.414 0L4.929 6.343a1 1 0 0 0 0 1.414l.536.536L4.757 10H4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h.757l.707 1.707-.535.536a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l.536-.535 1.707.707V20a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-.757l1.707-.708.536.536a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-.535-.536.707-1.707H20a1 1 0 0 0 1-1Z" />
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
            </svg>
          </button>

        </div>

        <!-- Right scroll button -->
        <button id="scroll-right" 
          class="absolute top-0 right-0 z-10 h-full px-3 flex items-center justify-center text-white bg-black hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"
          data-ripple="true"
          aria-label="Scroll Right">
          &#x276F;
        </button>
      </div>

      <!-- Content -->
      <!-- Events -->
      <div class="tab-content mt-4 h-full p-2 overflow-y-auto">
        <div class="tab-panel space-y-6">
          <div class="flex items-center justify-between">
            <h2 class="text-2xl font-semibold">Events</h2>
            <button id="toggle-filters"
              class="flex items-center bg-gray-900 text-white py-2 px-3 rounded hover:bg-gray-700 focus:outline-none focus:ring focus:ring-gray-500">
              Filters
              <!-- Down Arrow Icon -->
              <div id="arrow-filter" class="mr-2">
                <svg class="ml-2 w-5 h-5 text-gray-300" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                  fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m5 9 7 7 7-7" />
                </svg>
              </div>
            </button>
          </div>

          <div id="filter-section" class="mt-4 space-y-4 hidden">
            <!-- Location Selection -->
            <div id="events-content" class="flex-col items-start w-full mt-4 space-y-2">
              <input type="text" placeholder="Location" class="location-field-events input-styling">
              <button data-ripple="true" class="get-location-btn-events location-button-styling">Use Current
                Location</button>
              <button data-ripple="true" class="select-location-button-events location-button-styling">Select
                Location</button>
            </div>

            <!-- Start Date & Time -->
            <div class="space-y-4 mb-4">
              <div>
                <label for="start-date" class="font-medium text-white">Start Date:</label>
                <div class="grid grid-cols-2 gap-2 mt-1">
                  <input id="start-date" type="date"
                    class="bg-gray-500 text-white border border-gray-700 rounded p-2 w-full text-sm focus:border-gray-400 focus:outline-none" />
                  <input id="start-time" type="time"
                    class="bg-gray-500 text-white border border-gray-700 rounded p-2 w-full text-sm focus:border-gray-400 focus:outline-none" />
                </div>
              </div>

              <!-- End Date & Time -->
              <div>
                <label for="end-date" class="font-medium text-white">End Date:</label>
                <div class="grid grid-cols-2 gap-2 mt-1">
                  <input id="end-date" type="date"
                    class="bg-gray-500 text-white border border-gray-700 rounded p-2 w-full text-sm focus:border-gray-400 focus:outline-none" />
                  <input id="end-time" type="time"
                    class="bg-gray-500 text-white border border-gray-700 rounded p-2 w-full text-sm focus:border-gray-400 focus:outline-none" />
                </div>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="text-right">
              <button id="filter-events" class="btn-blue w-full">
                Filter
              </button>
            </div>
          </div>

          <!-- Sun Events -->
          <div class="expandable-section">
            <h3 id="sun-events-header" class="expandable-header flex items-center cursor-pointer">
              <!-- Triangle Icon -->
              <div id="arrow-sun" class="mr-2">
                <svg class="w-6 h-6 text-gray-800 dark:text-white transition-transform duration-200 ease-in-out"
                  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
                  viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m9 5 7 7-7 7" />
                </svg>
              </div>
              <!-- Section Title -->
              <span class="cursor-pointer">Sun</span>
            </h3>
            <div id="sun-content" class="expandable-content hidden transition-all duration-300 ease-in-out">
            </div>
          </div>

          <!-- Moon Events -->
          <div class="expandable-section">
            <h3 id="moon-events-header" class="expandable-header flex items-center cursor-pointer">
              <!-- Triangle Icon -->
              <div id="arrow-moon" class="mr-2">
                <svg class="w-6 h-6 text-gray-800 dark:text-white transition-transform duration-200 ease-in-out"
                  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
                  viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m9 5 7 7-7 7" />
                </svg>
              </div>
              <!-- Section Title -->
              <span class="cursor-pointer">Moon</span>
            </h3>
            <div id="moon-content" class="expandable-content hidden transition-all duration-300 ease-in-out">
            </div>
          </div>

          <!-- Planet Events -->
          <div class="expandable-section">
            <h3 id="planet-events-header" class="expandable-header flex items-center cursor-pointer">
              <!-- Triangle Icon -->
              <div id="arrow-planet" class="mr-2">
                <svg class="w-6 h-6 text-gray-800 dark:text-white transition-transform duration-200 ease-in-out"
                  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
                  viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m9 5 7 7-7 7" />
                </svg>
              </div>
              <!-- Section Title -->
              <span class="cursor-pointer">Planets</span>
            </h3>
            <div id="planet-content" class="expandable-content hidden transition-all duration-300 ease-in-out">
            </div>
          </div>
        </div>

        <!-- Predictions -->
        <div id="prediction-tab" class="tab-panel space-y-6">
          <div class="flex items-center justify-between">
            <h2 class="text-2xl font-semibold">Predictions</h2>
            <button class="flex items-center py-2 px-3 cursor-default">
              <span class="text-transparent">:)</span>
            </button>
          </div>
          <!-- Collision Prediction -->
          <div class="expandable-section">
            <h3 id="collision-prediction-header" class="expandable-header flex items-center cursor-pointer">
              <!-- Triangle Icon -->
              <div id="arrow-collision" class="mr-2">
                <svg class="w-6 h-6 text-gray-800 dark:text-white transition-transform duration-200 ease-in-out"
                  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
                  viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m9 5 7 7-7 7" />
                </svg>
              </div>
              <!-- Section Title -->
              <span class="cursor-pointer">Collision Prediction</span>
            </h3>
            <div id="collision-content" class="expandable-content hidden transition-all duration-300 ease-in-out">
              <div class="input-form-styling">
                <input type="text" id="satellite-collision" placeholder="Satellite" class="input-styling">
                <button data-ripple="true" id="pick-satellite-collision-button" class="select-satellite-button location-button-styling">Select Satellite</button>
                <button data-ripple="true" id="calculate-collision-button" class="btn-blue w-full">Calculate</button>
              </div>
              <div id="collision-prediction-result"></div>
            </div>
          </div>

          <!-- Passing Satellites -->
          <div class="expandable-section">
            <h3 id="passing-prediction-header" class="expandable-header flex items-center cursor-pointer">
              <!-- Triangle Icon -->
              <div id="arrow-passing" class="mr-2">
                <svg class="w-6 h-6 text-gray-800 dark:text-white transition-transform duration-200 ease-in-out"
                  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
                  viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m9 5 7 7-7 7" />
                </svg>
              </div>
              <!-- Section Title -->
              <span class="cursor-pointer">Passing Satellites</span>
            </h3>
            <div id="passing-content" class="expandable-content hidden transition-all duration-300 ease-in-out">
              <div class="input-form-styling">
                <div id="toggle-section" class="flex items-center justify-between w-[250px]">
                  <span id="toggle-text" class="mr-2 text-left flex-1">Displaying All Satellites</span>
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="w-8 h-8 cursor-pointer ml-auto"
                    id="toggle-svg">
                    <path id="toggle-path" fill="#ffffff"
                      d="M384 128c70.7 0 128 57.3 128 128s-57.3 128-128 128l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 352a96 96 0 1 0 0-192 96 96 0 1 0 0 192z" />
                  </svg>
                </div>
                <input type="text" placeholder="Location" class="location-field input-styling">
                <button data-ripple="true" class="get-location-btn location-button-styling">Use Current
                  Location</button>
                <button data-ripple="true" class="select-location-button location-button-styling">Select
                  Location</button>
              </div>
              <div id="passing-satellites-dropdown"
                class="relative bg-black text-white w-[100%] mx-auto border border-gray-700 mt-2 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto hidden">
              </div>
            </div>
          </div>

          <!-- Pass Prediction -->
          <div class="expandable-section">
            <h3 id="pass-prediction-header" class="expandable-header flex items-center cursor-pointer">
              <!-- Triangle Icon -->
              <div id="arrow-pass" class="mr-2">
                <svg class="w-6 h-6 text-gray-800 dark:text-white transition-transform duration-200 ease-in-out"
                  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
                  viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m9 5 7 7-7 7" />
                </svg>
              </div>
              <!-- Section Title -->
              <span class="cursor-pointer">Pass Prediction - Coming Soon</span>
            </h3>
            <div id="pass-content" class="expandable-content hidden transition-all duration-300 ease-in-out">
              <span>Exciting things are coming! The Pass Prediction feature will be available soon. Stay tuned!</span>
              <!-- <div class="input-form-styling">
                <input type="text" id="satellite-pass" placeholder="Satellite" class="input-styling">
                <input type="text" placeholder="Location" class="location-field input-styling">
                <button data-ripple="true" class="get-location-btn location-button-styling">Use Current
                  Location</button>
                <button data-ripple="true" class="select-location-button location-button-styling">Select
                  Location</button>
                <button data-ripple="true" id="calculate-pass-button" class="btn-blue w-full">Calculate</button>
              </div> -->
            </div>
          </div> 

        </div>

        <!-- Graphs -->
        <div class="tab-panel">
          <h2 class="text-2xl font-semibold">Graphs</h2>
          <div id="graphs-container" class="text-white"></div>
        </div>

        <!-- How to -->
        <div class="tab-panel">
          <h2 class="text-2xl font-semibold">Get Started with Satellite Exploration</h2>
          <!-- Description Text -->
          <p class="text-sm md:text-base text-gray-400">
            <strong>SOEP</strong> stands for <strong>Satellite Orbit and Event Predictor</strong>, a project dedicated
            to helping you explore and track Earth's orbiting satellites and celestial events. Click on any satellite to
            access real-time details such as speed, location, and analytical data.
          </p>
          <hr class="my-6 border-teal-300" />

          <!-- Toggle View -->
          <h3 class="text-md md:text-lg text-white">Switch Between Earth and Satellite Centric View
          </h3>
          <div class="flex flex-col space-y-2 mt-4">
            <p class="text-sm text-white bg-gray-800 p-2 rounded-md">
              Click the <img src="../images/icons/toggle_button.png" class="w-12 h-5 inline-block" /> buttons or use
              the keyboard shortcut 'Shift + V' to toggle between satellite and earth centric view. Make sure a
              satellite is selected first.
            </p>
          </div>
          <hr class="my-6 border-teal-300" />

          <!-- Events -->
          <h3 class="text-md md:text-lg text-white">What Are the Events?</h3>
          <p class="mt-2 text-sm md:text-base text-gray-400">
            Events track key celestial events related to the Sun, Moon, and Planets from your selected location. These
            include:
          </p>
          <ul class="list-disc list-inside text-sm md:text-base text-gray-400 mt-2">
            <li><strong>Eclipses:</strong> When the Sun, Moon, and Earth align, causing solar or lunar eclipses. These
              can be <strong>partial</strong> or <strong>total</strong>, depending on how perfectly they align.</li>
            <li><strong>Moon Phases:</strong> The changing appearance of the Moon as it orbits Earth.</li>
            <li><strong>Culmination:</strong> The highest point a celestial body reaches in the sky, often the best time
              for observation.</li>
            <li><strong>Perigee/Apogee:</strong> The Moon's closest (Perigee) and farthest (Apogee) points from Earth in
              its orbit, affecting its apparent size and brightness.</li>
          </ul>
          <hr class="my-6 border-teal-300" />

          <!-- Predictions -->
          <h3 class="text-md md:text-lg text-white">What Are Predictions?</h3>
          <p class="mt-2 text-sm md:text-base text-gray-400">
            SOEP provides three types of satellite predictions to enhance your tracking experience:
          </p>
          <ul class="list-disc list-inside text-sm md:text-base text-gray-400 mt-2">
            <li><strong>Collision Prediction:</strong> Calculates the current possibility of a collision for a selected
              satellite with other objects in orbit.</li>
            <li><strong>Passing Satellites:</strong> View all satellites that are currently passing over a selected
              location. You can toggle to display <strong>all satellites</strong> or only those that are
              <strong>passing</strong> over the location.
            </li>
            <li><strong>Pass Prediction (Coming soon):</strong> Select a location and a satellite to receive information on when (or
              if) the satellite will pass over that location.</li>
          </ul>
          <hr class="my-6 border-teal-300" />

          <!-- Graphs -->
          <h3 class="text-md md:text-lg text-white">What Do the Graphs Show?</h3>
          <p class="mt-2 text-sm md:text-base text-gray-400">
            Visualize satellite data through dynamic graphs. Track speed, altitude, longitude, and latitude of the
            selected satellite. The graphs display data from the current time and project one hour into the future.
          </p>
          <hr class="my-6 border-teal-300" />

          <!-- Inclination Explanation -->
          <h3 class="text-md md:text-lg text-white">What Is Inclination?</h3>
          <p class="mt-2 text-sm md:text-base text-gray-400">
            Inclination is the angle between a satellite's orbital plane and Earth's equatorial plane. This angle
            defines the satellite's path and coverage area:
          </p>
          <ul class="list-disc list-inside text-sm md:text-base text-gray-400 mt-2">
            <li><strong>0° Inclination:</strong> The satellite follows the equator (equatorial orbit).
            </li>
            <li><strong>90° Inclination:</strong> The satellite passes over both poles (polar orbit) and covers the
              entire Earth.</li>
            <li><strong>Between 0° and 90°:</strong> Inclined orbits provide regional coverage.</li>
            <li><strong>Greater than 90°:</strong> Retrograde orbits move opposite to Earth's rotation.</li>
          </ul>
          <hr class="my-6 border-teal-300" />

          <!-- Revolution Time Explanation -->
          <h3 class="text-md md:text-lg text-white">What Is Revolution Time?</h3>
          <p class="mt-2 text-sm md:text-base text-gray-400">
            Revolution time refers to the time it takes for a satellite to complete one full orbit around Earth. This
            duration depends on the satellite's altitude and velocity. Low Earth Orbit (LEO) satellites, for instance,
            typically have shorter revolution times (around 90 minutes), while satellites in higher orbits take much
            longer.
          </p>
        </div>

        <!-- Community Tab Content -->
        <div id="community-tab" class="tab-panel">
          <h2 class="text-2xl font-semibold text-white">Join Our Community</h2>
          <p class="mt-2 text-sm md:text-base text-gray-400">
            Connect with a vibrant community of satellite enthusiasts, share your ideas, and stay updated with the latest features. Our Discord server offers a space for discussions, Q&A, and event announcements.
          </p>
          <a href="https://discord.gg/KugYbYKX2k" class="btn-blue mt-4 inline-block text-center">
            Join the Discord Community
          </a>
          <h3 class="mt-6 text-lg font-semibold text-gray-200">Contact Us</h3>
          <p class="mt-2 text-sm md:text-base text-gray-400">
            Have feedback or suggestions? Reach out to us at <strong>soep.helper@gmail.com</strong> or visit our 
            <a href="https://github.com/SOEP-Group/SOEP-Visualizer/issues" class="text-teal-300 hover:underline">GitHub Issues Page</a>.
          </p>
        </div>

        <!-- Donate Tab Content -->
        <div id="donate-tab" class="tab-panel">
          <h2 class="text-2xl font-semibold text-white">Support Our Project</h2>
          <p class="mt-2 text-sm md:text-base text-gray-400">
            Your contributions make it possible for us to maintain and enhance the SOEP platform. By donating, you help us continue delivering valuable tools and features for satellite enthusiasts worldwide.
          </p>
          <a href="https://buymeacoffee.com/soep_tech" class="btn-blue mt-4 inline-block text-center">
            Donate ❤️
          </a>
        </div>

        <!-- Settings -->
        <div class="tab-panel">
          <h2 class="text-2xl font-semibold">Settings</h2>

          <!-- Graphics present -->
          <div class="p-2 flex flex-row text-white justify-between items-center w-full border-b border-b-white">
            <h3 class="justify-begin text-sm md:text-lg">Graphics preset:</h3>
            <select id="graphics-settings"
              class="border p-1 md:p-2 text-sm md:text-base w-32 rounded bg-black border-white focus:border-teal-300 justify-end"></select>
          </div>

          <!-- Timezone -->
          <div class="p-2 flex flex-row text-white justify-between items-center w-full border-b border-b-white">
            <h3 class="justify-begin text-sm md:text-lg">Time zone:</h3>
            <select id="time-zone-settings"
              class="border p-1 md:p-2 text-sm md:text-base w-64 rounded bg-black border-white focus:border-teal-300 justify-end"></select>
          </div>

          <!-- Save settings button -->
          <button type="button" id="settings-save" data-ripple="true" class="btn-blue">
            Save settings
          </button>
        </div>
      </div>
      <div class="mt-auto text-center text-gray-400 text-sm py-4 border-t border-gray-700">
        &copy; SOEP. All rights reserved.
      </div>
    </div>
  </div>

  <div class="gl_viewport" id="gl_viewport" tabindex="0">
    <div class="ui absolute z-10 w-full h-full">
      <div id="viewport-gizmo-container" class="absolute top-8 left-5 w-24 h-24 bg-transparent z-20">
      </div>

      <!-- Hover Tooltip -->
      <div id="hover-tooltip"
        class="hidden fixed bg-sky-900/75 text-teal-300 text-sm px-2 py-1 rounded border border-teal-300 pointer-events-none z-50">
      </div>

      <!-- Toggle View Buttons -->
      <div class="flex flex-col items-end md:items-center justify-center mt-2 mr-2 md:mr-0" id="toggle_buttons">
      <div class="flex">
        <!-- Satellite Button -->
        <button id="satellite-view-button" title="Satellite view"
          class="bg-black px-2 py-1 border border-teal-300 pointer-events-none cursor-not-allowed">
          <img src="../images/icons/satellite.svg" alt="Satellite" class="w-6 h-6" />
        </button>
        <!-- Earth Button -->
        <button id="earth-view-button" title="Earth view"
          class="px-2 py-1 border border-teal-300 pointer-events-none bg-teal-500">
          <img src="../images/icons/earth.svg" alt="Earth" class="w-6 h-6" />
        </button>
      </div>
      <div class="flex text-white">
        Sat.count: <span id="sat-count" class="ml-1">0</span>
      </div>
    </div>

      <div id="popup-container"
        class="z-10 pb-4 rounded-lg translate-x-full absolute top-5 right-[-100%] transform transition-all duration-300 ease-in-out hidden md:flex md:flex-col w-1/4 h-[30%] text-base">
        <div class="popup-window shadow-lg bg-sky-900/75 space-y-2 p-2 h-full w-full flex flex-col"
          data-augmented-ui="border tl-2-clip-x br-clip bl-clip">
          <div class="flex flex-row justify-end">
            <button id="close-popup" class="bg-transparent" title="Close">
              <svg class="h-8 w-10 text-teal-300 hover:text-teal-200" width="24" height="24" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" />
                <line x1="18" y1="6" x2="6" y2="18" />
                <line x1="6" y1="6" x2="18" y2="18" />
              </svg>
            </button>
          </div>
          <div id="popup-skeleton" class="space-y-4 p-4 text-teal-300">
            <p class="loading-text">Loading</p>
          </div>
          <div id="popup-content" class="hidden space-y-2 p-4 text-teal-300 max-h-[95%]"></div>
        </div>

        <div id="toggle-arrow" class="flex justify-center items-center absolute bottom-3 w-full cursor-pointer py-2"
          title="More info">
          <svg id="arrow-icon"
            class="w-6 h-6 text-gray-800 dark:text-white transition-transform duration-300 ease-in-out hover:text-gray-400"
            stroke="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5L12 17.25l-7.5-6.75" />
          </svg>
        </div>
      </div>

      <!-- Mobile Popup Container -->
      <div id="mobile-popup-container"
        class="z-10 pb-4 rounded-lg translate-y-full absolute bottom-0 left-0 transform transition-all duration-300 ease-in-out flex flex-col w-full px-1 h-[30%] text-base md:hidden">

        <!-- Popup Window Content -->
        <div class="popup-window shadow-lg bg-sky-900/75 space-y-2 p-4 h-full w-full relative pt-6 flex flex-col"
          data-augmented-ui="border tl-clip tr-clip br-clip bl-clip">

          <!-- Close Button -->
          <div class="absolute top-2 right-2 z-20">
            <button id="mobile-close-popup" class="bg-transparent p-0" title="Close">
              <svg class="h-8 w-8 text-teal-300 hover:text-teal-200" width="24" height="24" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" />
                <line x1="18" y1="6" x2="6" y2="18" />
                <line x1="6" y1="6" x2="18" y2="18" />
              </svg>
            </button>
          </div>

          <!-- Expand Arrow -->
          <div id="mobile-toggle-arrow"
            class="flex justify-center items-center absolute -top-1 w-full z-10 cursor-pointer" title="More info">
            <svg id="mobile-arrow-icon"
              class="w-6 h-6 text-gray-800 dark:text-white transition-transform duration-300 ease-in-out hover:text-gray-400 rotate-180"
              stroke="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5L12 17.25l-7.5-6.75" />
            </svg>
          </div>

          <!-- Loading Skeleton -->
          <div id="mobile-popup-skeleton" class="space-y-4 text-teal-300">
            <p class="loading-text">Loading</p>
          </div>
          
          <!-- Actual Content (Initially hidden) -->
          <div id="mobile-popup-content" class="hidden space-y-2 text-teal-300 text-sm"></div>
        </div>
      </div>
    </div>
  </div>
</body>

<script type="module" src="js/main.js"></script>

</html>